  <div class="print-container" *ngIf="receipt">
      <!-- Print Actions (Hidden in Print) -->
      <div class="print-actions no-print mb-4">
        <div class="container">
          <div class="d-flex justify-content-between align-items-center">
            <button class="btn btn-outline-secondary" (click)="goBack()">
              <i class="fas fa-arrow-left me-2"></i>Back
            </button>
            <div>
              <button class="btn btn-outline-primary me-2" (click)="printReceipt()">
                <i class="fas fa-print me-2"></i>Print Receipt
              </button>
              <button class="btn btn-gold" (click)="downloadPDF()">
                <i class="fas fa-download me-2"></i>Download PDF
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Traditional Receipt -->
      <div class="traditional-receipt">
        <!-- Header Section -->
        <div class="receipt-header">
          <div class="shop-name">{{ receipt.shopName }}</div>
          <div class="shop-details">
            <div class="hindi-text">स्वर्ण आभूषण एवं चांदी के काम</div>
            <div class="address-line">123 मुख्य बाजार, पटना, बिहार - 800001</div>
            <div class="contact-line">मो. 9876543210, 8765432109</div>
          </div>
        </div>

        <!-- Invoice Details -->
        <div class="invoice-section">
          <div class="invoice-row">
            <div class="invoice-left">
              <span class="label">Invoice No:</span>
              <span class="value">{{ receipt.invoiceNumber }}</span>
            </div>
            <div class="invoice-right">
              <span class="label">Date:</span>
              <span class="value">{{ receipt.date | date:'dd/MM/yyyy' }}</span>
            </div>
          </div>
        </div>

        <!-- Customer Details -->
        <div class="customer-section">
          <div class="customer-row">
            <span class="label">Name:</span>
            <span class="customer-name">{{ receipt.customerName }}</span>
          </div>
          <div class="customer-row">
            <span class="label">Add:</span>
            <span class="customer-address">{{ receipt.customerMobile }}</span>
          </div>
        </div>

        <!-- Items Table -->
        <div class="items-table">
          <div class="table-header">
            <div class="col-sno">क्र.सं</div>
            <div class="col-description">विवरण</div>
            <div class="col-weight">वजन/मात्रा</div>
            <div class="col-rate">दर</div>
            <div class="col-amount">राशि</div>
          </div>
          
          <div class="table-row" *ngFor="let item of receipt.items; let i = index">
            <div class="col-sno">{{ i + 1 }}</div>
            <div class="col-description">
              <div class="item-name">{{ item.itemName }}</div>
              <div class="item-desc" *ngIf="item.description">{{ item.description }}</div>
            </div>
            <div class="col-weight">{{ item.weight }}g</div>
            <div class="col-rate">₹{{ item.pricePerGram | number:'1.0-0' }}</div>
            <div class="col-amount">₹{{ item.itemTotal | number:'1.0-0' }}</div>
          </div>

          <!-- Making Charges Row -->
          <div class="table-row making-charges" *ngFor="let item of receipt.items; let i = index" 
               [style.display]="item.makingCharges > 0 ? 'flex' : 'none'">
            <div class="col-sno"></div>
            <div class="col-description">बनवाई {{ item.itemName }}</div>
            <div class="col-weight"></div>
            <div class="col-rate"></div>
            <div class="col-amount">₹{{ item.makingCharges | number:'1.0-0' }}</div>
          </div>
        </div>

        <!-- Totals Section -->
        <div class="totals-section">
          <div class="total-row">
            <div class="total-label">कुल योग</div>
            <div class="total-amount">₹{{ receipt.subtotal | number:'1.0-0' }}</div>
          </div>
          <div class="total-row" *ngIf="receipt.tax > 0">
            <div class="total-label">कर</div>
            <div class="total-amount">₹{{ receipt.tax | number:'1.0-0' }}</div>
          </div>
          <div class="total-row grand-total">
            <div class="total-label">कुल राशि</div>
            <div class="total-amount">₹{{ receipt.total | number:'1.0-0' }}</div>
          </div>
        </div>

        <!-- Terms and Conditions -->
        <div class="terms-section">
          <div class="terms-title">नोट:</div>
          <div class="terms-list">
            <div class="term-item">1. सामान की पूर्ण गारंटी, समान वापसी की कोई गारंटी नहीं।</div>
            <div class="term-item">2. सोने-चांदी की कीमत बाजार भाव के अनुसार घटती-बढ़ती रहती है।</div>
          </div>
        </div>

        <!-- Signatures -->
        <div class="signature-section">
          <div class="signature-left">
            <div class="signature-label">Customer Signature</div>
            <div class="signature-line"></div>
          </div>
          <div class="signature-right">
            <div class="signature-label">Auth. Signature</div>
            <div class="signature-line"></div>
            <div class="shop-stamp">{{ receipt.shopName }}</div>
          </div>
        </div>

        <!-- Footer -->
        <div class="receipt-footer">
          <div class="footer-text">धन्यवाद! फिर से पधारें।</div>
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div class="container mt-5" *ngIf="!receipt && !error">
      <div class="text-center">
        <div class="spinner-gold mx-auto mb-3"></div>
        <p class="text-muted">Loading receipt...</p>
      </div>
    </div>

    <!-- Error State -->
    <div class="container mt-5" *ngIf="error">
      <div class="text-center">
        <i class="fas fa-exclamation-triangle text-warning" style="font-size: 4rem;"></i>
        <h4 class="mt-3 text-muted">Receipt Not Found</h4>
        <p class="text-muted">The requested receipt could not be found.</p>
        <button class="btn btn-gold" routerLink="/receipt/list">
          <i class="fas fa-list me-2"></i>View All Receipts
        </button>
      </div>
    </div>